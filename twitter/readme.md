# ときめきポポロン

コマンドプロンプト上で実行できるTwitterクライアントです。
以下のような人におすすめです。

* 職場や研究室でこっそりツイートしたい
* タイムラインは見たくないけどツイートしたい
* 時間競競技の腕前を上げたい

## おことわり

個人的な目的で作成したクライアントのため、使い方の説明はとても乱雑です。

## 動作に必要な事前準備

### Key and tokens の確認

https://developer.twitter.com/ にアクセスし、使用したいAppのKey and tokensを確認します。
下記項目について、`env.json` 内に書き込んでください。

|項目|対応する変数|
|:---|:---|
|Consumer Key|CK|
|Consumer Secret|CS|
|Access Token|AT|
|Access Secret|AS|
|TwitterID(@を除く)|userID|

### 必要なモジュールと動作確認済のバージョン

|モジュール|バージョン|
|:---|:---|
|datetime|4.2|
|ntplib|0.3.4|
|numpy|1.16.4|
|pandas|0.23.0|
|requests|2.18.4|
|requests\_oauthlib|1.0.0|

## 使い方

Pythonでt.pyを実行してください。
「Input:」と表示されたら、ツイートを入力しEnterを押してください。
ツイートに成功すると、送信した時刻と、実際に投稿された時刻が表示されます。
(このとき、日本標準時とコンピュータの内蔵時計との時間差が考慮されます)

## コマンド一覧

ツイートの代わりに以下のコマンドを入力することで、各種機能を利用することができます。

* <>は必須、[]は省略可能
* ツイート番号は、直近のツイートの番号を0とし、そのn個前のツイートをnとする

### <19桁の数字>
ツイートIDに対応する投稿時刻を表示します

### check [キーワード] [ツイート数]
他クライアントを含め、指定した数だけ直近ツイートの投稿時刻を表示します

オプションが1個のみ指定される場合、100以下の数値はツイート数、それ以外はキーワードとして認識されます。

### cls
画面に表示されている内容がクリアされます

### delete [ツイート番号]
指定したツイート番号のツイートを消去します

### edit [ツイート番号]
ツイートを編集します(元ツイートが一旦削除され、文章が修正された後自動的に再投稿されます)

"edit" のみ入力した場合、表示されるツイート一覧から番号を選択してください。

次に修正したい表現と、その修正後の表現を入力します。

例) 「友だちを追加」を「友だちを削除」に変更したいとき

Expression before editing: 追加

Expression after editing: 削除

といったように修正してください。

なお、文字列中に該当する表現が複数存在する場合、後方から検索して最初に一致するもののみ修正されます。

### offset
日本標準時とコンピュータの内蔵時計との時間差を取得します

### icon <拡張子を除いたファイル名>
Twitterのアイコンを変更します(.pngのみ対応)

## おまけ(metronome.py)
BPM240固定のメトロノームです。Windowsでしか動きません。
下記に対応するキーを押下することで、鳴動タイミングを調整できます。

|押下するキー|効果|
|:---|:---|
|S|20 ms 遅める|
|D| 5 ms 遅める|
|F| 1 ms 遅める|
|J| 1 ms 早める|
|K| 5 ms 早める|
|L|20 ms 早める|
